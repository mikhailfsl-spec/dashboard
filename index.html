<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>My Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
:root{
  --bg:#0b0f14;
  --card:#111722;
  --border:rgba(255,255,255,.08);
  --text:#e6eaf0;
  --muted:#9aa4b2;
  --gold:#f5c542;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:radial-gradient(circle at top,#121826,#0b0f14);
  color:var(--text);
}

h1{
  margin:20px;
  font-size:22px;
  font-weight:600;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:16px;
  padding:20px;
}

.card{
  background:linear-gradient(180deg,#121826,#0d1320);
  border:1px solid var(--border);
  border-radius:14px;
  padding:16px;
}

.label{
  font-size:12px;
  color:var(--muted);
  letter-spacing:.08em;
  text-transform:uppercase;
  display:flex;
  align-items:center;
  gap:8px;
}

.icon{
  width:14px;
  height:14px;
  display:inline-block;
}

.gold-icon{
  background:linear-gradient(135deg,#ffe27a,#f5c542,#c9971a);
  border-radius:3px;
  box-shadow:0 0 6px rgba(245,197,66,.4);
}

.value{
  margin-top:8px;
  font-size:32px;
  font-weight:600;
}

.unit{
  font-size:13px;
  color:var(--muted);
  margin-left:6px;
}

.updated{
  padding:0 20px 20px;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body>

<h1>My Dashboard</h1>

<div class="grid">

  <div class="card">
    <div class="label">â‚¿ Bitcoin</div>
    <div class="value" id="btc">â€”</div>
  </div>

  <div class="card">
    <div class="label">
      <span class="icon gold-icon"></span>
      Gold
    </div>
    <div class="value" id="gold">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ›¢ Brent</div>
    <div class="value">
      <span id="brent">â€”</span>
      <span class="unit">USD / bbl</span>
    </div>
  </div>

  <div class="card">
    <div class="label">ðŸ’± FX</div>
    <div class="value">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ•’ GMT</div>
    <div class="value" id="gmt">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ‡¬ðŸ‡§ London</div>
    <div class="value" id="london">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ‡·ðŸ‡º Moscow</div>
    <div class="value" id="moscow">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ‡¦ðŸ‡ª Dubai</div>
    <div class="value" id="dubai">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ‡¸ðŸ‡¬ Singapore</div>
    <div class="value" id="singapore">â€”</div>
  </div>

  <div class="card">
    <div class="label">ðŸ‡·ðŸ‡º Vladivostok</div>
    <div class="value" id="vladivostok">â€”</div>
  </div>

</div>

<div class="updated" id="updated">Updated â€”</div>

<script>
async function json(url){
  return fetch(url).then(r=>r.json())
}

async function load(){
  const btc = await json("https://api.coinbase.com/v2/prices/BTC-USD/spot");
  document.getElementById("btc").textContent =
    Number(btc.data.amount).toLocaleString();

  const brent = await json("/api/brent");
  document.getElementById("brent").textContent =
    brent.brent.toFixed(2);

  const now = new Date();
  const zones = {
    gmt:"Etc/GMT",
    london:"Europe/London",
    moscow:"Europe/Moscow",
    dubai:"Asia/Dubai",
    singapore:"Asia/Singapore",
    vladivostok:"Asia/Vladivostok"
  };

  for(const id in zones){
    document.getElementById(id).textContent =
      new Intl.DateTimeFormat("en-GB",{
        timeZone:zones[id],
        hour:"2-digit",
        minute:"2-digit",
        second:"2-digit"
      }).format(now);
  }

  document.getElementById("updated").textContent =
    "Updated at " + now.toLocaleTimeString("en-GB");
}

load();
setInterval(load,10000);
</script>

</body>
</html>
